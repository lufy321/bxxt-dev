{"version":3,"file":"js/588.0ff3e182.js","mappings":"4KAGO,SAASA,IACZ,OAAOC,EAAAA,EAAAA,GAAQ,CACXC,IAAK,oBAKN,SAASC,IACZ,OAAOF,EAAAA,EAAAA,GAAQ,CACXC,IAAK,aACLE,OAAQ,W,iKCTe,Q,GAGtBC,MAAM,Y,GACJA,MAAM,a,GACJA,MAAM,Q,UACTC,EAAAA,EAAAA,GAA2E,OAAtEC,IAAI,2DAA2DC,IAAI,IAAxE,W,GACKH,MAAM,a,UAGTC,EAAAA,EAAAA,GAAuC,OAAlCD,MAAM,QAAO,mBAAe,K,GAKnCA,MAAM,a,UAENC,EAAAA,EAAAA,GAAiB,YAAX,QAAI,K,GAKTG,MAAA,iB,WACuD,Q,sHA1BhEC,EAAAA,EAAAA,IA6BM,aA5BJC,EAAAA,EAAAA,IAGUC,EAAA,MAFSC,MAAI,SAArB,IAAiC,KAChBC,SAAO,SAAC,IAAI,M,OAG/BR,EAAAA,EAAAA,GAsBM,MAtBN,EAsBM,EArBJA,EAAAA,EAAAA,GASM,MATN,EASM,EARJA,EAAAA,EAAAA,GAOM,MAPN,EAOM,CANJS,GACAT,EAAAA,EAAAA,GAIM,MAJN,EAIM,EAHJA,EAAAA,EAAAA,GAAiC,WAA5B,OAAGU,EAAAA,EAAAA,IAAGC,EAAAA,KAAKC,UAAQ,IACxBZ,EAAAA,EAAAA,GAAkC,WAA7B,QAAIU,EAAAA,EAAAA,IAAGC,EAAAA,KAAKC,UAAQ,GACzBC,SAKNb,EAAAA,EAAAA,GAKK,KALL,EAKK,EAJHA,EAAAA,EAAAA,GAGK,MAHDD,MAAM,uBAAwBe,QAAK,eAAEC,EAAAA,KAAI,YAA7C,CACEC,GACAX,EAAAA,EAAAA,IAAsCY,EAAA,CAA3BlB,MAAM,OAAOmB,KAAK,eAIjClB,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJK,EAAAA,EAAAA,IAA2Ec,EAAA,CAA9DL,QAAOC,EAAAA,SAAUK,MAAA,GAAMC,MAAA,GAAMC,MAAM,WAAhD,C,kBAA0D,IAAI,M,KAA9D,qB,wEAcR,GACEJ,KAAM,UACNK,WAAY,CACVC,OAAAA,EAAAA,GAEFC,QACE,MAAMC,GAASC,EAAAA,EAAAA,MACTC,GAAQC,EAAAA,EAAAA,MAERC,GAAQC,EAAAA,EAAAA,IAAS,CACrBC,KAAM,MAGRC,EAAAA,EAAAA,KAAU,KACRH,EAAME,KAAOJ,EAAME,MAAME,QAG3B,MAAME,EAAW,MACfrC,EAAAA,EAAAA,KAASsC,MAAKC,IACK,OAAdA,EAAIC,SACL,YAAc,QAGdC,aAAaC,WAAW,SAExBX,EAAMY,OAAO,cAAc,GAE3BC,YAAW,KACTf,EAAOgB,KAAK,CAACC,KAAM,aAClB,UAKHC,EAAO,CAACD,EAAME,KAClBnB,EAAOgB,KAAK,CAACC,KAAAA,EAAME,MAAOA,GAAS,MAGrC,MAAO,KACFC,EAAAA,EAAAA,IAAOhB,GACVc,KAAAA,EACAV,SAAAA,K,UC3EN,MAAMa,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF","sources":["webpack://bxxt/./src/network/userInfo.js","webpack://bxxt/./src/views/profile/Profile.vue","webpack://bxxt/./src/views/profile/Profile.vue?3af4"],"sourcesContent":["import {request} from './request';\r\n\r\n// 获取用户信息\r\nexport function getUserInfo() {\r\n    return request({\r\n        url: '/my/getUserInfo'\r\n    })\r\n}\r\n\r\n// 用户登出\r\nexport function logOut() {\r\n    return request({\r\n        url: '/my/logOut',\r\n        method: 'post'\r\n    })\r\n}","<template>\r\n  <div>\r\n    <nav-bar>\r\n      <template v-slot:left></template>\r\n      <template v-slot:default>个人中心</template>\r\n    </nav-bar>\r\n\r\n    <div class=\"use-body\">\r\n      <div class=\"user-info\">\r\n        <div class=\"info\">\r\n          <img src=\"http://nxbx.ejianlong.com:8086/assets/images/favicon.ico\" alt=\"\">\r\n          <div class=\"user-desc\">\r\n            <div>昵称：{{ user.username }}</div>\r\n            <div>登录名：{{ user.username }}</div>\r\n            <div class=\"name\">个性签名：机会只留给有准备的人</div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <ul class=\"user-list\">\r\n        <li class=\"van-hairline--bottom\" @click=\"goTo('/about')\">\r\n          <span>关于我们</span>\r\n          <van-icon  class=\"icon\" name=\"arrow\"/>\r\n        </li>\r\n      </ul>\r\n\r\n      <div style=\"margin: 16px\">\r\n        <van-button @click=\"tologout\" round block color=\"#44ba80\">退出登录</van-button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport NavBar from \"components/common/navbar/NavBar\";\r\nimport {logOut} from \"network/userInfo\";\r\nimport {ref, reactive, toRefs, onMounted} from \"vue\";\r\nimport {useRouter} from 'vue-router';\r\nimport {Toast} from \"vant\";\r\nimport {useStore} from 'vuex';\r\n\r\nexport default {\r\n  name: \"Profile\",\r\n  components: {\r\n    NavBar\r\n  },\r\n  setup() {\r\n    const router = useRouter();\r\n    const store = useStore();\r\n\r\n    const state = reactive({\r\n      user: {},\r\n    })\r\n\r\n    onMounted(() => {\r\n      state.user = store.state.user\r\n    })\r\n\r\n    const tologout = () => {\r\n      logOut().then(res => {\r\n        if(res.status == '204') {\r\n          Toast.success(\"退出成功\");\r\n\r\n          // 清除token window.localStroage\r\n          localStorage.removeItem('token');\r\n\r\n          store.commit('setIslogin', false);\r\n\r\n          setTimeout(() => {\r\n            router.push({path: '/login'});\r\n          }, 500)\r\n        }\r\n      })\r\n    }\r\n\r\n    const goTo = (path, query) => {\r\n      router.push({path, query: query || {}});\r\n    }\r\n\r\n    return {\r\n      ...toRefs(state),\r\n      goTo,\r\n      tologout\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n  .use-body {\r\n    margin: 60px 10px 0px;\r\n    .info {\r\n      display: flex;\r\n      align-items: center;\r\n      padding: 10px;\r\n      background: linear-gradient(90deg, #31c7a7, #a1c7c7);\r\n      border-radius: 5px;\r\n      img {\r\n        border-radius: 50%;\r\n        width: 60px;\r\n        height: 60px;\r\n      }\r\n      .user-desc {\r\n        margin-left: 10px;\r\n        color: #FFFFFF;\r\n        font-size: 12px;\r\n      }\r\n    }\r\n    .user-list {\r\n      font-size: 14px;\r\n      .van-hairline--bottom {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        height: 45px;\r\n      }\r\n    }\r\n  }\r\n</style>","import { render } from \"./Profile.vue?vue&type=template&id=3145aa68&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=3145aa68&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\Zero\\\\Desktop\\\\bxxt\\\\bxxt\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-3145aa68\"]])\n\nexport default __exports__"],"names":["getUserInfo","request","url","logOut","method","class","_createElementVNode","src","alt","style","_createElementBlock","_createVNode","_component_nav_bar","left","default","_hoisted_5","_toDisplayString","_ctx","username","_hoisted_7","onClick","$setup","_hoisted_9","_component_van_icon","name","_component_van_button","round","block","color","components","NavBar","setup","router","useRouter","store","useStore","state","reactive","user","onMounted","tologout","then","res","status","localStorage","removeItem","commit","setTimeout","push","path","goTo","query","toRefs","__exports__","render"],"sourceRoot":""}